<!--
   Copyright 2013 Bibliotheca Alexandrina, Wellcome Trust Library

   Licensed under the Apache License, Version 2.0 (the "License");
   you may not use this file except in compliance with the License.
   You may obtain a copy of the License at

       http://www.apache.org/licenses/LICENSE-2.0

   Unless required by applicable law or agreed to in writing, software
   distributed under the License is distributed on an "AS IS" BASIS,
   WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   See the License for the specific language governing permissions and
   limitations under the License.
-->

<ui:component xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ice="http://www.icesoft.com/icefaces/component"
	xmlns:c="http://java.sun.com/jstl/core" styleClass="Instance"	>
	
	
	<div style="display:block; padding: 10px 0">
		<table cellpadding="0" cellspacing="0">
			<tr>
				<td valign="top">
					<ice:panelGroup binding="#{xsaBindersBean.dynComps[applicationScope.XSAConstants.ID_occIpHldrId]}"/>
						<div class="controllers">
	<ul class="Edit-Attributes">
<!-- TODO: fix the reset functionality	-->
<!--	The auto addition/deletion (or something else) cause the reset functionality to stop working!!	<li ><ice:commandLink styleClass="Revert" binding="#{xsaBindersBean.dynComps[applicationScope.XSAConstants.ID_occBtnRevert]}"/></li>-->
		
		<c:if test="#{!empty xsaBindersBean.dynComps[applicationScope.XSAConstants.ID_occBtnDelHldrId]}">
		<li >
		<ice:commandLink styleClass="Delete" binding="#{xsaBindersBean.dynComps[applicationScope.XSAConstants.ID_occBtnDelHldrId]}"/></li>
		</c:if>
		<c:if test="#{!empty xsaBindersBean.dynComps[applicationScope.XSAConstants.ID_occPopAttrLink]}">
		<li ><ice:panelGroup renderedOnUserRole="ROLE_ATTRIBUTES_EDITOR">
		<ice:commandLink styleClass="Edit"  binding="#{xsaBindersBean.dynComps[applicationScope.XSAConstants.ID_occPopAttrLink]}"/>
		</ice:panelGroup>
		</li>
		</c:if>
	</ul>
	</div>
	<div class="clear" />
					
				</td>
		
				<td valign="top">
					<table cellpadding="0" cellspacing="0">
						<tr>
							<td>
								<ice:panelGroup  binding="#{xsaBindersBean.dynComps[applicationScope.XSAConstants.ID_occMsg]}"/>
							</td>
						</tr>
						<tr>
							<td>
								<c:if test="#{!empty xsaBindersBean.dynComps[applicationScope.XSAConstants.ID_InpFacsFOc]}">
								<!-- position: absolute; z-index: 2; left: 0px; top: 0px; -->
									
									<!-- The facs id -->
									<ice:selectOneListbox binding="#{xsaBindersBean.dynComps[applicationScope.XSAConstants.ID_InpFacsFOc]}" style="width: 50px; height: 32px; display: inline;" title="Select image of manuscript page to associate to this field and click 'Associate Image'"/>
									
									<a href="javascript:void;" onclick="; toggleFacsRefMenu(this, event); "  tabindex="-1" style="display: block;">View/Hide Controls</a>
									<div style="display: none; margin-top:5px; ">
									<!-- Link for Refering to the currently viewed facimilie -->
									<div class="ref-facs">
										<ice:commandLink binding="#{xsaBindersBean.dynComps[applicationScope.XSAConstants.ID_CmdSetFacsFOc]}"/><br/>
									</div>
									
									<!-- Link for Showing the facimilie -->
									<div class="show-facs">
										<ice:commandLink binding="#{xsaBindersBean.dynComps[applicationScope.XSAConstants.ID_CmdShowfacsFOc]}"/><br/>
									</div>
									
									<!-- Link for Clearing Refered facimilie -->
									<div class="delete-facs">
										<ice:commandLink binding="#{xsaBindersBean.dynComps[applicationScope.XSAConstants.ID_CmdClearfacsFOc]}"/><br/>
									</div>
									<!-- Error Message  -->
									<ice:panelGroup binding="#{xsaBindersBean.dynComps[applicationScope.XSAConstants.ID_MsgFacsFOc]}"/><br/>
									</div>
								</c:if>
							</td>
						</tr>
					</table>
				</td>
			</tr>
		</table>
	
	
	<ice:panelGroup binding="#{xsaBindersBean.dynComps[applicationScope.XSAConstants.ID_occPopAttrHldrId]}"/>
	 

</div>
	
	
</ui:component>